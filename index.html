<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Jantar com amigos da Pós</title>

    <link
      href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css"
      rel="stylesheet"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <style>
      :root {
        --bg-900: #120613;
        --bg-700: #4b1344;
        --text: #ffffff;
        --muted: rgba(255, 255, 255, 0.72);
        --accent: #ff2aa5;
        --ring: rgba(255, 42, 165, 0.35);
        --card: rgba(255, 255, 255, 0.07);
        --stroke: rgba(255, 255, 255, 0.12);
      }

      * {
        -webkit-tap-highlight-color: transparent;
        box-sizing: border-box;
      }

      body {
        font-family: 'Poppins', sans-serif;
        background: linear-gradient(
          180deg,
          var(--bg-700) 0%,
          var(--bg-900) 100%
        );
        overflow-x: hidden;
        color: var(--text);
      }

      .santee-bg {
        background: radial-gradient(
            circle at 50% 10%,
            rgba(255, 42, 165, 0.16),
            transparent 52%
          ),
          radial-gradient(
            circle at 10% 90%,
            rgba(176, 0, 255, 0.14),
            transparent 55%
          ),
          var(--bg-900);
      }

      .glass {
        background: var(--card);
        border: 1px solid var(--stroke);
        backdrop-filter: blur(14px);
        -webkit-backdrop-filter: blur(14px);
      }
      /* FIX DO SWIPE/SLIDER (2 páginas) */

      .swiper-container {
        width: 100%;
        overflow: hidden;
      }

      .track {
        display: flex;
        width: 100%;
        transition: transform 0.45s cubic-bezier(0.2, 0, 0, 1);
        will-change: transform;
      }

      .slide {
        flex: 0 0 100%;
        width: 100%;
        max-width: 100%;
        overflow: hidden;
        /* evita qualquer vazamento horizontal */
      }
      /* Estilos de Elementos */

      .s-input {
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.14);
        color: white;
        transition: 0.2s ease;
        width: 100%;
        max-width: 100%;
        min-width: 0;
        /* importantíssimo dentro de flex */
      }

      .s-input::placeholder {
        color: rgba(255, 255, 255, 0.45);
      }

      .s-input:focus {
        border-color: var(--accent);
        box-shadow: 0 0 0 4px var(--ring);
        outline: none;
        background: rgba(255, 255, 255, 0.08);
      }

      .s-btn {
        background: linear-gradient(135deg, var(--accent) 0%, #b000ff 100%);
        box-shadow: 0 10px 25px rgba(255, 42, 165, 0.22);
        transition: transform 0.12s ease, filter 0.12s ease;
      }

      .s-btn:active {
        transform: translateY(1px);
        filter: brightness(0.98);
      }

      .s-btn:focus {
        outline: none;
        box-shadow: 0 0 0 4px var(--ring), 0 10px 25px rgba(255, 42, 165, 0.22);
      }

      .soft-btn {
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.12);
        transition: 0.2s ease;
      }

      .soft-btn:hover {
        background: rgba(255, 255, 255, 0.1);
      }

      .dot {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.22);
        transition: 0.3s;
      }

      .dot.active {
        background: var(--accent);
        width: 26px;
      }

      #progressBar {
        transition: width 0.4s ease;
        background: linear-gradient(90deg, var(--accent), #b000ff);
        height: 100%;
      }

      .brand {
        font-weight: 300;
        letter-spacing: 0.18em;
        text-transform: uppercase;
      }

      .title-white {
        color: #fff;
        text-shadow: 0 10px 35px rgba(0, 0, 0, 0.35);
      }

      .desc {
        color: var(--muted);
        line-height: 1.55;
      }
    </style>
  </head>

  <body class="min-h-screen santee-bg flex items-center justify-center p-4">
    <div class="w-full max-w-lg">
      <div class="glass rounded-3xl overflow-hidden shadow-2xl">
        <div class="p-8 pb-4">
          <div class="flex justify-between items-start">
            <div>
              <h1
                class="text-3xl sm:text-3x1 font-extrabold tracking-tight title-white leading-tight"
              >
                Jantar entre <br />
                Alunos e Ex-Alunos
              </h1>

              <p class="text-sm desc mt-2">
                Networking através de experiências com pessoas da sua área de
                atuação. Encontros curados, conversas boas e conexões
                presenciais.
              </p>
            </div>

            <div class="text-right pl-4">
              <span
                class="text-xs opacity-80"
                style="font-family: 'Poppins', sans-serif; font-weight: 300"
              >
                Santée
              </span>
              <div id="stepLabel" class="text-xs font-bold mt-2 text-pink-300">
                1 de 2
              </div>
            </div>
          </div>

          <div
            class="mt-6 h-1 w-full bg-white bg-opacity-10 rounded-full overflow-hidden"
            aria-hidden="true"
          >
            <div id="progressBar" style="width: 50%"></div>
          </div>
        </div>

        <form
          id="form"
          action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSe1vUbV9tcvbIzBpqbBfyvLPcuODeDQqvf5SWZgPuwqMJRb1A/formResponse"
          method="POST"
        >
          <div id="swipeArea" class="swiper-container">
            <div id="track" class="track">
              <!-- SLIDE 1 -->
              <div class="slide p-8 pt-4">
                <label class="block text-sm font-semibold mb-3 opacity-80"
                  >Seu Nome</label
                >
                <input
                  required
                  type="text"
                  name="entry.2039340109"
                  placeholder="Nome completo"
                  class="s-input rounded-2xl p-4 mb-6"
                />

                <label class="block text-sm font-semibold mb-3 opacity-80"
                  >Número de telefone (você receberá informações por
                  aqui)</label
                >
                <input
                  required
                  type="tel"
                  name="entry.887788116"
                  placeholder="WhatsApp com DDD"
                  class="s-input rounded-2xl p-4 mb-3"
                  inputmode="tel"
                />

                <button
                  type="button"
                  onclick="goToStep(1)"
                  class="s-btn w-full rounded-2xl p-4 font-bold"
                >
                  Avançar
                </button>
              </div>

              <!-- SLIDE 2 -->
              <div class="slide p-8 pt-4">
                <label class="block text-sm font-semibold mb-3 opacity-80">
                  Sobre você (Curso ou turma que realizou/a)
                </label>

                <input
                  required
                  type="text"
                  name="entry.216590624"
                  placeholder="Ex: Economia 2024 / MBA Gestão 2024"
                  class="s-input rounded-2xl p-4 mb-6"
                />

                <input
                  required
                  type="url"
                  name="entry.690629396"
                  placeholder="URL do LinkedIn"
                  class="s-input rounded-2xl p-4 mb-6"
                />

                <div class="flex gap-3">
                  <button
                    type="button"
                    onclick="goToStep(0)"
                    class="soft-btn w-1/3 rounded-2xl p-4 font-bold"
                  >
                    Voltar
                  </button>

                  <button
                    type="submit"
                    class="s-btn flex-1 rounded-2xl p-4 font-bold"
                  >
                    Fazer parte
                  </button>
                </div>
              </div>
            </div>
          </div>
        </form>

        <!-- 2 DOTS -->
        <div class="flex justify-center gap-2 pb-8">
          <div class="dot active"></div>
          <div class="dot"></div>
        </div>
      </div>
    </div>

    <script>
      let currentStep = 0
      const track = document.getElementById('track')
      const progressBar = document.getElementById('progressBar')
      const stepLabel = document.getElementById('stepLabel')
      const dots = document.querySelectorAll('.dot')
      const slides = document.querySelectorAll('.slide')
      const totalSteps = slides.length // agora é 2

      function goToStep(n) {
        n = Math.max(0, Math.min(n, totalSteps - 1))

        // valida só quando estiver avançando
        if (n > currentStep) {
          const inputs = slides[currentStep].querySelectorAll('input')
          for (const input of inputs) {
            if (!input.checkValidity()) {
              input.reportValidity()
              return
            }
          }
        }

        currentStep = n
        updateUI()
      }

      function updateUI() {
        // 100% por slide, sempre alinhado
        track.style.transform = `translateX(-${currentStep * 100}%)`

        // label e progresso agora em 2 páginas
        stepLabel.textContent = `${currentStep + 1} de ${totalSteps}`
        progressBar.style.width = `${((currentStep + 1) / totalSteps) * 100}%`

        dots.forEach((dot, idx) => {
          dot.classList.toggle('active', idx === currentStep)
        })

        const nextInput = slides[currentStep].querySelector('input')
        if (nextInput) setTimeout(() => nextInput.focus(), 350)
      }

      // Swipe
      let touchStartX = 0
      const swipeArea = document.getElementById('swipeArea')

      swipeArea.addEventListener(
        'touchstart',
        e => {
          touchStartX = e.changedTouches[0].screenX
        },
        {
          passive: true
        }
      )

      swipeArea.addEventListener(
        'touchend',
        e => {
          const touchEndX = e.changedTouches[0].screenX
          handleSwipe(touchStartX, touchEndX)
        },
        {
          passive: true
        }
      )

      function handleSwipe(start, end) {
        const threshold = 50
        if (start - end > threshold) {
          // esquerda = próximo
          if (currentStep < totalSteps - 1) goToStep(currentStep + 1)
        } else if (end - start > threshold) {
          // direita = anterior
          if (currentStep > 0) goToStep(currentStep - 1)
        }
      }

      // inicializa
      updateUI()
    </script>
  </body>
</html>
